<?php
//------------------------------------------------------------------------------
/* 	Yabt

	BackupJob class implementation.

	$Id$ */
//------------------------------------------------------------------------------

namespace yabt;


//------------------------------------------------------------------------------
//! Generic backup job
//------------------------------------------------------------------------------
abstract class BackupJob
	extends Job
{
	//--------------------------------------------------------------------------
	//! Returns the job type
	//--------------------------------------------------------------------------
	public function getType()
	{
		return "backup";
	}

	//--------------------------------------------------------------------------
	//! Return the name of the subdirectory where the backup is stored
	//--------------------------------------------------------------------------
	public function getSubdir()
	{
		return Fs::joinPath(System::getFqdn(), $this->name);
	}

	//--------------------------------------------------------------------------
	//! Automated backup verification
	/*! Ensure that backups are healthy */
	//--------------------------------------------------------------------------
	abstract protected function verify();
};
